{"id":"mentorfy-api-dnd","title":"Create restore_neo4j_jsonl.py for streaming restore","description":"Create a new restore script that streams from JSONL format. Keep the old restore_neo4j.py for legacy .json files.\n\n## Implementation\n1. Connect to Neo4j\n2. Confirm with user (filename has timestamp, that's enough context)\n3. Delete all existing data\n4. Create uuid index (keep it permanently - it's useful)\n5. Read lines in file order, create node or rel based on shape:\n   - Has `labels` → node\n   - Has `start`/`end` → rel\n6. Print counts\n\n## Notes\n- No batching (current script doesn't batch either, premature optimization)\n- No metadata parsing needed\n- No stats verification needed\n- Single pass through file","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T21:14:40.949316-08:00","created_by":"elijah","updated_at":"2025-12-29T21:20:06.49754-08:00","closed_at":"2025-12-29T21:20:06.497541-08:00","dependencies":[{"issue_id":"mentorfy-api-dnd","depends_on_id":"mentorfy-api-es9","type":"blocks","created_at":"2025-12-29T21:14:47.695803-08:00","created_by":"daemon"}]}
{"id":"mentorfy-api-es9","title":"Rewrite backup_neo4j.py to stream JSONL","description":"Rewrite the backup script to stream directly to file instead of accumulating in memory.\n\n## Format\nFlat JSONL, one record per line:\n- Nodes: `{\"labels\":[...],\"uuid\":\"...\",\"name\":\"...\",...}` (properties spread at top level)\n- Rels: `{\"type\":\"...\",\"start\":\"...\",\"end\":\"...\",...}` (properties spread at top level)\n\nNodes written first, then relationships (no separator needed - restore processes in file order).\n\n## Implementation\n1. Open `.jsonl` file\n2. Stream nodes from cursor → write each as line, count\n3. Stream rels from cursor → write each as line, count  \n4. Print counts to console\n\n## Notes\n- No metadata line (filename has timestamp)\n- No stats line (derivable via wc -l or grep)\n- No `_type` field (detect by shape: `labels` = node, `start`/`end` = rel)\n- No `props` wrapper (spread properties at top level)","status":"closed","priority":2,"issue_type":"task","created_at":"2025-12-29T21:14:13.440609-08:00","created_by":"elijah","updated_at":"2025-12-29T21:19:27.316548-08:00","closed_at":"2025-12-29T21:19:27.316551-08:00"}
